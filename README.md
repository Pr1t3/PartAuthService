**Используемые технологии:**

- Go
- JWT
- PostgreSQL

**Задание:**

Написать часть сервиса аутентификации.

Два REST маршрута:

- Первый маршрут выдает пару Access, Refresh токенов для пользователя с идентификатором (GUID) указанным в параметре запроса
- Второй маршрут выполняет Refresh операцию на пару Access, Refresh токенов

**Требования:**

Access токен тип JWT, алгоритм SHA512, хранить в базе строго запрещено.

Refresh токен тип произвольный, формат передачи base64, хранится в базе исключительно в виде bcrypt хеша, должен быть защищен от изменения на стороне клиента и попыток повторного использования.

Access, Refresh токены обоюдно связаны, Refresh операцию для Access токена можно выполнить только тем Refresh токеном который был выдан вместе с ним.

Payload токенов должен содержать сведения об ip адресе клиента, которому он был выдан. В случае, если ip адрес изменился, при рефреш операции нужно послать email warning на почту юзера (для упрощения можно использовать моковые данные).

**Запуск**

1) Настройте переменные окружения, добавив их в `.env`
Необходимые для работы переменные окружения:
```
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_DB=
POSTGRES_PORT=
SECRET_KEY=
SMTP_FROM=
SMTP_TO=
SMTP_HOST=
SMTP_PORT=
SMTP_PASSWORD=
SERVICE_PORT=
``` 
2) База данных настраивается автоматически с помощью Docker. Выполните скрипт
```bash
    ./setup-db.sh
```
3) Запустите сервер командой
```bash
    go run cmd/main.go
```

**Тестирование**

Тесты находятся в директории tests/. Для запуска всех тестов выполните команду:

```bash
go test ./tests -v
```